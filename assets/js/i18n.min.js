(function(){function t(){try{const t=new URLSearchParams(window.location.search);return t.get("lang")}catch(t){return null}}function n(t){document.querySelectorAll("[data-i18n]").forEach(function(n){const e=n.getAttribute("data-i18n");if(!e)return;const o=t.hasOwnProperty(e)?t[e]:null;null!=o&&(n.hasAttribute("data-i18n-html")?n.innerHTML=o:n.textContent=o)})}function e(t){t||(t=o),fetch("/assets/i18n/"+t+".json",{cache:"no-cache"}).then(function(t){if(!t.ok)throw new Error("Missing translations");return t.json()}).then(function(e){n(e),document.documentElement.lang=t}).catch(function(){t!==o&&e(o)})}const o="es";document.addEventListener("DOMContentLoaded",function(){const n=t(),c=localStorage.getItem("site_lang"),a=n||c||o;e(a),document.querySelectorAll(".lang-switch").forEach(function(t){t.addEventListener("click",function(n){n.preventDefault();const o=t.getAttribute("data-lang");o&&(localStorage.setItem("site_lang",o),e(o))})})})})();